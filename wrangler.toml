name = "massmurdercanada"
main = "src/index.js"
compatibility_date = "2024-01-01"

[vars]
# Admin password hash - generate with: node generate-password-hash.js "your-password"
# For production, use: npx wrangler secret put ADMIN_PASSWORD_HASH
# For local development, uncomment the line below (but don't commit it to git!)
# ADMIN_PASSWORD_HASH = "paste-your-hash-here-for-local-dev-only"

[[d1_databases]]
binding = "DB"
database_name = "massmurdercanada"
database_id = "2096de9d-42d1-4430-bd6f-92ff79419f4e"

# Staging - Complete copy of production data, separate database for testing
[env.staging]
name = "massmurdercanada-staging"
# Note: ADMIN_PASSWORD_HASH should be set as a secret for staging:
# npx wrangler secret put ADMIN_PASSWORD_HASH --env staging

[[env.staging.d1_databases]]
binding = "DB"
database_name = "massmurdercanada"
database_id = "2096de9d-42d1-4430-bd6f-92ff79419f4e"

[[env.staging.kv_namespaces]]
binding = "AUTH_TOKENS"
id = "59d5407bc78348d9a620f9bb5cf2ed87"

# Production
[env.production]
name = "massmurdercanada"
routes = [
  { pattern = "massmurdercanada.org/*", zone_name = "massmurdercanada.org" },
  { pattern = "www.massmurdercanada.org/*", zone_name = "massmurdercanada.org" }
]

[[env.production.d1_databases]]
binding = "DB"
database_name = "massmurdercanada-prod"
database_id = "abc87d82-e184-4c27-b971-f36fa4784a79"

